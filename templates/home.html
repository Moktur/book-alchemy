<h2>Library</h2>

<!-- Search Form -->
<form method="GET" action="/">
  <input type="text" name="q" placeholder="Search books or authors" value="{{ search_query }}">
  <button type="submit">Search</button>
  <input type="hidden" name="sort" value="{{ sort_by }}">
</form>

<!-- Sorting Links -->
<p>Sort by:
  <a href="/?sort=title{% if search_query %}&q={{ search_query }}{% endif %}">Title</a> |
  <a href="/?sort=author{% if search_query %}&q={{ search_query }}{% endif %}">Author</a>
</p>

<!-- Book List -->
{% if books %}
{% for book in books %}
<div>
  <h3>{{ book.title }}</h3>
  <p>Author: {{ book.author.name }}</p>
</div>
{% endfor %}
{% else %}
<p>No books match your search.</p>
{% endif %}